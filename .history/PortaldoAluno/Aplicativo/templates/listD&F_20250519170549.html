<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Lista de Desempenho e Frequência</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        table { border-collapse: collapse; width: 100%; margin-top: 20px; }
        th, td { border: 1px solid #ccc; padding: 10px; text-align: left; }
        th { background-color: #f2f2f2; }
        a.btn { padding: 6px 12px; text-decoration: none; border: 1px solid #333; border-radius: 4px; margin-right: 5px; }
        .add-btn { background-color: #4CAF50; color: white; }
        .edit-btn { background-color: #2196F3; color: white; }
        .delete-btn { background-color: #f44336; color: white; }
    </style>
</head>
<body>

    <h1>Lista de Desempenho e Frequência</h1>

    <a href="{% url 'desempenho_create' %}" class="btn add-btn">Adicionar Desempenho</a>

    {% if desempenhos %}
        <table>
            <thead>
                <tr>
                    <th>Aluno</th>
                    <th>Faltas</th>
                    <th>Desempenho</th>
                    <th>Emoji</th>
                    <th>Comentário do Professor</th>
                    <th>Ações</th>
                </tr>
            </thead>
            <tbody>
                {% for item in desempenhos %}
                    <tr>
                        <td>{{ item.aluno.nome }}</td>
                        <td>{{ item.faltas }}</td>
                        <td>{{ item.desempenho }}</td>
                        <td>{{ item.emoji }}</td>
                        <td>{{ item.comentario_professor }}</td>
                        <td>
                            <a href="{% url 'desempenho_edit' item.id %}" class="btn edit-btn">Editar</a>
                            <a href="{% url 'desempenho_delete' item.id %}" class="btn delete-btn"
                               onclick="return confirm('Tem certeza que deseja excluir este registro?');">
                                Excluir
                            </a>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p>Nenhum registro encontrado.</p>
    {% endif %}

</body>
</html>
